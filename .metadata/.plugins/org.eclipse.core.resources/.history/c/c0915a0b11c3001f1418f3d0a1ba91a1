package main;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

import model.Alojamiento;

public class BookingApp {
    private List<Alojamiento> alojamientos;

    public BookingApp() {
        this.alojamientos = new ArrayList<>();
        inicializarAlojamientos();
    }

    // Inicializa algunos alojamientos de ejemplo
    private void inicializarAlojamientos() {
        alojamientos.add(new Alojamiento("Hotel Sol", "Hotel", "Cartagena", 5, 120.0));
        alojamientos.add(new Alojamiento("Apartamento Mar", "Apartamento",  "Cartagena", 4, 80.0));
        alojamientos.add(new Alojamiento("Finca Bella", "Finca", "Medellín", 3, 150.0));
        alojamientos.add(new Alojamiento("Día de Sol Caribe", "Día de Sol", "Cartagena", 4, 60.0));
    }

    // Inicia el menú principal
    public void iniciar() {
        Scanner scanner = new Scanner(System.in);
        while (true) {
            System.out.println("Bienvenido a la aplicación de Booking:");
            System.out.println("1. Buscar alojamientos");
            System.out.println("2. Salir");
            System.out.print("Elige una opción: ");
            int opcion = scanner.nextInt();
            scanner.nextLine(); // Consumir nueva línea

            switch (opcion) {
                case 1:
                    buscarAlojamientos(scanner);
                    break;
                case 2:
                    System.out.println("¡Gracias por usar la aplicación!");
                    return;
                default:
                    System.out.println("Opción no válida.");
            }
        }
    }

    // Método para buscar alojamientos
    private void buscarAlojamientos(Scanner scanner) {
        System.out.print("Ingresa la ciudad: ");
        String ciudad = scanner.nextLine();
        System.out.print("Ingresa el tipo de alojamiento (Hotel, Apartamento, Finca, Día de Sol): ");
        String tipo = scanner.nextLine();

        List<Alojamiento> resultados = buscarAlojamientos(ciudad, tipo);

        if (resultados.isEmpty()) {
            System.out.println("No se encontraron alojamientos que coincidan con los criterios.");
        } else {
            System.out.println("Alojamientos encontrados:");
            for (Alojamiento alojamiento : resultados) {
                System.out.println(alojamiento);
            }
        }
    }

    // Lógica de búsqueda
    private List<Alojamiento> buscarAlojamientos(String ciudad, String tipo) {
        List<Alojamiento> resultados = new ArrayList<>();
        for (Alojamiento alojamiento : alojamientos) {
            if (alojamiento.getCiudad().equalsIgnoreCase(ciudad) &&
                alojamiento.getTipo().equalsIgnoreCase(tipo)) {
                resultados.add(alojamiento);
            }
        }
        return resultados;
    }
}

